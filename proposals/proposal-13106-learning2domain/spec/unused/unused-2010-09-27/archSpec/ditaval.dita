<?xml version="1.0" encoding="utf-8"?>
<!--Arbortext, Inc., 1988-2005, v.4002-->
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN"
 "concept.dtd">
<?Pub Inc?>
<concept id="ditaval" xml:lang="en-us">
<title>Conditional processing profiles</title>
<shortdesc>You can create a conditional processing profile to identify which
values you want to conditionally process for a particular output, build, or
other purpose. The profile has the extension .ditaval to identify it to conditional
processing systems.</shortdesc>
<conbody>
<p>The .ditaval format has several elements: val, the root element, can contain
a style-conflict element followed by prop or revprop elements; the prop and
revprop elements can contain startflag and endflag elements; and the startflag
and endflag elements can contain alt-text elements.<draft-comment>jeff ogden:
wanted this in a new section of the spec rather than under common attributes.
now done. Also questioned whether it was normative. Reviewed with TC, and
confirmed: t<?Pub Caret?>he ditaval format was not normative in 1.0, it is
normative in 1.1. There was some old wording from 1.0 earlier that confused
the issue, I've removed it.</draft-comment></p>
<dl><dlentry>
<dt>val</dt>
<dd>Root element, contains an optional style-conflict element followed by
one or more prop or revprop elements.</dd>
</dlentry><dlentry>
<dt>style-conflict</dt>
<dd>An element that declares behavior to be used when one or more flagging
methods collide on a single content element. <dl><dlentry>
<dt>@foreground-conflict-color</dt>
<dd><draft-comment>mp: question prompted by jeff ogden: should we document
the @ convention for identifying attributes in the front part of the spec?</draft-comment><draft-comment>TC
response: yes</draft-comment>The color to be used when more than one flagging
color applies to a single content element.</dd>
</dlentry><dlentry>
<dt>@background-conflict-color</dt>
<dd>The color to be used when more than one flagging background color applies
to a single content element.</dd>
</dlentry></dl><p>In case of conflicts between flagging methods at different
levels (for example, a section is flagged green and a paragraph within the
section is flagged red) the most deeply nested flagging method applies. </p><p>In
case of conflicts between flagging methods on the same element (for example,
a single element is being flagged with both green and red color) it is recommended
that the conflicts be resolved as follows:<dl>
<dlhead>
<dthd>Flagging method</dthd><ddhd>Conflict behavior</ddhd>
</dlhead>
<dlentry>
<dt>startflag/endflag</dt>
<dd>Add all flags that apply.</dd>
</dlentry><dlentry>
<dt>color</dt>
<dd>Follow the style-conflict @foreground-conflict-color setting, or use an
output-appropriate default color if no conflict color is set.</dd>
</dlentry><dlentry>
<dt>backcolor</dt>
<dd>Follow the style-conflict @background-conflict-color setting, or use an
output-appropriate default color if no conflict color is set</dd>
</dlentry><dlentry>
<dt>style</dt>
<dd>Add all font styles that apply. If two different kinds of underline are
used, default to the heaviest (double underline) and use the foreground-conflict-color.</dd>
</dlentry><dlentry>
<dt>changebar</dt>
<dd>Add all change bars that apply.</dd>
</dlentry></dl></p></dd>
</dlentry><dlentry>
<dt>prop</dt>
<dd>Identifies an attribute, and usually values in the attribute, to take
an action on. The attribute must be a conditional processing attribute: platform,
product, audience, props. and otheprops; or a specialization of the props
attribute. There can be at most one occurrence of a "prop" element with no
attribute specified (setting a default action for every prop element), at
most one for each attribute with  no value specified (setting the default
action for a specific attribute), and at most one with each attribute value
specification (to avoid conflicting actions for the same attribute value).<dl>
<dlentry>
<dt>@att</dt>
<dd>The attribute to be acted upon. Must be one of props, audience, platform,
product, otherprops, rev, or a specialization of props. If the att attribute
is absent, then the prop element declares a default behavior for any conditional
processing attribute.</dd>
</dlentry><dlentry>
<dt>@val</dt>
<dd>The value to be acted upon. If the val attribute is absent, then the prop
element declares a default behavior for any value in the specified attribute.</dd>
</dlentry><dlentry>
<dt>@action</dt>
<dd>The action to be taken. The options are:<dl><dlentry>
<dt><userinput>include</userinput></dt>
<dd>Include the content in output. This is the default behavior unless otherwise
set.</dd>
</dlentry><dlentry>
<dt><userinput>exclude</userinput></dt>
<dd>Exclude the content from output (if all values in the particular attribute
are excluded).</dd>
</dlentry><dlentry>
<dt><userinput>passthrough</userinput></dt>
<dd>Include the content in output, and preserve the attribute value as part
of the output stream for further processing by a runtime engine, for example
runtime filtering based on individual user settings. The value should be preserved
in whatever syntax is required by the target runtime. Values that are not
explicitly passed through should be removed from the output stream, even though
the content is still included.</dd>
</dlentry><dlentry>
<dt><userinput>flag</userinput></dt>
<dd>Include and flag the content on output (if the content has not been excluded).</dd>
</dlentry></dl></dd>
</dlentry><dlentry>
<dt>@color</dt>
<dd>If flag has been set, the color to use to flag text. Colors may be entered
by name or code. Processor support is recommended for  the color names listed
in <xref href="http://www.w3.org/TR/xsl/slice5.html#section-N8794-Property-Datatypes"
scope="external"></xref> and for the 6 digit hex code form (#rrggbb, case
insensitive). If flag has not been set this attribute is ignored.</dd>
</dlentry><dlentry>
<dt>@backcolor</dt>
<dd>If flag has been set, the color to use as background for flagged text.
Colors may be entered by name or code. Processor support is recommended for
 the color names listed in <xref href="http://www.w3.org/TR/xsl/slice5.html#section-N8794-Property-Datatypes"
scope="external"></xref> and for the 6 digit hex code form (#rrggbb, case
insensitive). If flag has not been set this attribute is ignored.</dd>
</dlentry><dlentry>
<dt>@style</dt>
<dd>If flag has been set, the text style to use for flagged text. The following
values are enumerated:<ul>
<li>underline</li>
<li>double-underline</li>
<li>italics</li>
<li>overline</li>
<li>bold</li>
</ul> If flag has not been set this attribute is ignored.</dd>
</dlentry></dl></dd>
</dlentry><dlentry>
<dt>revprop</dt>
<dd>Identifies a value in the rev attribute that should be flagged in some
manner. Unlike the other conditional processing attributes, which can be used
for both filtering and flagging, the rev attribute can only be used for flagging.
There can be at most one occurrence of a "revprop" element for each attribute
value specification (to avoid conflicting actions for the same attribute value).<dl>
<dlentry>
<dt>@val</dt>
<dd>The value to be acted upon. If the val attribute is absent, then the revprop
element declares a default behavior for any value in the rev attribute.</dd>
</dlentry><dlentry>
<dt>@action</dt>
<dd>The action to be taken. The options are:<dl><dlentry>
<dt><userinput>include</userinput></dt>
<dd>Include the content in output without flags. This is the default behavior
unless otherwise set.</dd>
</dlentry><dlentry>
<dt><userinput>passthrough</userinput></dt>
<dd>Include the content in output, and preserve the attribute value as part
of the output stream for further processing by a runtime engine, for example
runtime filtering based on individual user settings. The value should be preserved
in whatever syntax is required by the target runtime. Values that are not
explicitly passed through should be removed from the output stream, even though
the content is still included.</dd>
</dlentry><dlentry>
<dt><userinput>flag</userinput></dt>
<dd>Include and flag the content on output (if the content has not been excluded).</dd>
</dlentry></dl></dd>
</dlentry><dlentry>
<dt>@changebar</dt>
<dd>When flag has been set, specify a changebar color, style, or character,
according to the changebar support of the target output format. If flag has
not been set this attribute is ignored.</dd>
</dlentry><dlentry>
<dt>@color, @backcolor, @style</dt>
<dd>Same as for prop element.</dd>
</dlentry></dl></dd>
</dlentry><dlentry>
<dt>startflag</dt>
<dd>An element allowed inside either prop or revprop. Takes text or an image
reference to be used for identifying the beginning of flagged content. <dl>
<dlentry>
<dt>@imageref</dt>
<dd>The relative path or URL to the image file. The attribute uses conventional
URL syntax to point to the resource: href="../images/construction.gif"</dd>
</dlentry></dl></dd>
</dlentry><dlentry>
<dt>endflag</dt>
<dd>An element allowed inside either prop or revprop. Takes text or an image
reference to be used for identifying the beginning of flagged content. <dl>
<dlentry>
<dt>@imageref</dt>
<dd>The relative path or URL to the image file. The attribute uses conventional
URL syntax to point to the resource: href="../images/construction.gif"</dd>
</dlentry></dl></dd>
</dlentry><dlentry>
<dt>alt-text</dt>
<dd>An element allowed inside either startflag or endflag to provide alternate
text for an image, when the imageref attribute sets an image to be used for
flagging. The default alternate text for revprop start of change is "start
of change". The default alternate text for revprop end of change is "end of
change". </dd>
</dlentry></dl>
<section><title>Notes on ditaval messages</title><p>It is recommended but
not required that conditional processing code provide a report of any attribute
values encountered in content that do not have an explicit action associated
with them.</p></section>
<section><title>Note on ditaval flagging of images</title><p>If an image in
DITA content becomes flagged using a background color, the color should be
represented as a thick border.  If a foreground color is expressed, it should
be represented as a  thin border.</p></section>
</conbody>
</concept>
<?Pub *0000010259?>
