<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="keys-and-conditional-processing">
    <title>Keys and conditional processing</title>
    <conbody>
        <p>The effective keys for a given map may be affected by conditional processing (filtering).
            Filtering <keyword>should</keyword> be applied before determining effective key
            definitions. However, processors <keyword>may</keyword> determine effective key bindings
            before filtering. Consequently, different processors may produce different effective
            bindings for the same map when there are key definitions that may be filtered out based
            on their select attributes. </p>
        <note>If filtering is not done first, the same root map may result in different effective
            key spaces for different sets of conditions. For processors that provide sets of
            available keys within an information set, such as authoring support systems, keys may
            need to be associated with the conditions specified on their key definitions. For
            example, given a map that defines the key "os-name" twice with different conditions, an
            author may need to know both that the key has two possible bindings within the key space
            and what the conditions are under which those bindings are effective. It also means that
            processors may need both a root map and a set of active conditions (e.g., a ditaval
            document) in order to correctly determine the effective key space.</note>
        <p>A relative URI reference in a key definition is resolved relative to the base URI
            established for the location of the key definition rather than relative to the various
            locations of references using the key.</p>
    </conbody>
</concept>
