<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="topic-with-mathml.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?>
<topic id="rng-math-topic" xmlns:m="http://www.w3.org/1998/Math/MathML">
  <title>Topic with RNG-Based MathML Domain</title>
  <body>
    <fig>
      <title>Inline Equation markup</title>
      <p>Text before the equation <equation-inline> <mathml>
        <m:math>
          <m:semantics>
            <m:mrow>
              <m:msqrt>
                <m:mrow>
                  <m:msup>
                    <m:mi>a</m:mi>
                    <m:mn>2</m:mn>
                  </m:msup>
                  <m:mo>+</m:mo>
                  <m:msup>
                    <m:mi>b</m:mi>
                    <m:mn>2</m:mn>
                  </m:msup>
                </m:mrow>
              </m:msqrt>
            </m:mrow>
          </m:semantics>
        </m:math>
        </mathml> </equation-inline> text after the equation.</p>
    </fig>
    <fig>
      <title>Block Equation markup</title>
      <p>Para before the equation</p>
      <equation-block><mathml>
        <m:math>
          <m:semantics>
            <m:mrow>
              <m:msqrt>
                <m:mrow>
                  <m:msup>
                    <m:mi>a</m:mi>
                    <m:mn>2</m:mn>
                  </m:msup>
                  <m:mo>+</m:mo>
                  <m:msup>
                    <m:mi>b</m:mi>
                    <m:mn>2</m:mn>
                  </m:msup>
                </m:mrow>
              </m:msqrt>
            </m:mrow>
          </m:semantics>
        </m:math>
        </mathml> </equation-block>
      <p>Para after the equation.</p>
    </fig>
    <fig>
      <title>Block Equation with both MathML and Image</title>
      <p>Para before the equation</p>
      <equation-block><mathml>
        <m:math>
          <m:semantics>
            <m:mrow>
              <m:msqrt>
                <m:mrow>
                  <m:msup>
                    <m:mi>a</m:mi>
                    <m:mn>2</m:mn>
                  </m:msup>
                  <m:mo>+</m:mo>
                  <m:msup>
                    <m:mi>b</m:mi>
                    <m:mn>2</m:mn>
                  </m:msup>
                </m:mrow>
              </m:msqrt>
            </m:mrow>
          </m:semantics>
        </m:math>
        </mathml><image
        id="image_pws_ymj_gk">
        <alt>Square root of a squared plus b squared.</alt>
        </image> </equation-block>
      <p>Para after the equation.</p>
    </fig>
    <p>Display equation with directly-referenced &lt;mathml&gt; element:</p>
    <equation-display>
      <title>Equation Title</title>
      <desc>Equation description</desc>
      <mathml>
        <m:math
          display="block">
          <m:semantics>
            <m:mrow>
              <m:msqrt>
                <m:mrow>
                  <m:msup>
                    <m:mi>a</m:mi>
                    <m:mn>2</m:mn>
                  </m:msup>
                  <m:mo>+</m:mo>
                  <m:msup>
                    <m:mi>b</m:mi>
                    <m:mn>2</m:mn>
                  </m:msup>
                </m:mrow>
              </m:msqrt>
            </m:mrow>
          </m:semantics>
        </m:math>
      </mathml>
    </equation-display>
    <p>Display equation with nested equation elements:</p>
    <equation-display>
      <title>Equation Title</title>
      <desc>Equation description</desc>
      <equation-block> <mathml>
        <m:math>
          <m:semantics>
            <m:mrow>
              <m:msqrt>
                <m:mrow>
                  <m:msup>
                    <m:mi>a</m:mi>
                    <m:mn>2</m:mn>
                  </m:msup>
                  <m:mo>+</m:mo>
                  <m:msup>
                    <m:mi>b</m:mi>
                    <m:mn>2</m:mn>
                  </m:msup>
                </m:mrow>
              </m:msqrt>
            </m:mrow>
          </m:semantics>
        </m:math>
        </mathml> </equation-block>
      <p>And here is that equation again:</p>
      <equation-block> <mathml>
        <m:math>
          <m:semantics>
            <m:mrow>
              <m:msqrt>
                <m:mrow>
                  <m:msup>
                    <m:mi>a</m:mi>
                    <m:mn>2</m:mn>
                  </m:msup>
                  <m:mo>+</m:mo>
                  <m:msup>
                    <m:mi>b</m:mi>
                    <m:mn>2</m:mn>
                  </m:msup>
                </m:mrow>
              </m:msqrt>
            </m:mrow>
          </m:semantics>
        </m:math>
        </mathml> </equation-block>
    </equation-display>
    <fig>
      <title>Equation with non-MathML Content</title>
      <p>Suppose a x^2+b x+c=0 and a!=0. We first divide by \a to get x^2+b/a
        x+c/a=0.</p>
      <p>See <xref
        href="http://www.wjagray.co.uk/maths/ASCIIMathMLinfo.html"
        format="html"
        scope="external">http://www.wjagray.co.uk/maths/ASCIIMathMLinfo.html</xref>.</p>
    </fig>
    <equation-display>
      <title>Display Equation with &lt;figgroup></title>
      <figgroup>
        <title>Fig Group 1</title>
        <equation-block> <mathml>
          <m:math>
            <m:semantics>
              <m:mrow>
                <m:msqrt>
                  <m:mrow>
                    <m:msup>
                      <m:mi>a</m:mi>
                      <m:mn>2</m:mn>
                    </m:msup>
                    <m:mo>+</m:mo>
                    <m:msup>
                      <m:mi>b</m:mi>
                      <m:mn>2</m:mn>
                    </m:msup>
                  </m:mrow>
                </m:msqrt>
              </m:mrow>
            </m:semantics>
          </m:math>
          </mathml> </equation-block>
      </figgroup>
      <figgroup>
        <title>Fig Group 2</title>
        <equation-block><mathml>
          <m:math
            display="block"
            overflow="scroll">
            <m:mtable
              columnalign="left"
              class="align-star">
              <m:mtr>
                <m:mtd
                  columnalign="right"
                  class="align-odd">
                  <m:mfrac>
                    <m:mrow>
                      <m:mn>7</m:mn>
                    </m:mrow>
                    <m:mrow>
                      <m:mn>1</m:mn>
                      <m:mn>5</m:mn>
                    </m:mrow>
                  </m:mfrac>
                  <m:mi>b</m:mi>
                  <m:mo
                    class="MathClass-bin">+</m:mo>
                  <m:mfrac>
                    <m:mrow>
                      <m:mn>6</m:mn>
                    </m:mrow>
                    <m:mrow>
                      <m:mn>1</m:mn>
                      <m:mn>5</m:mn>
                    </m:mrow>
                  </m:mfrac>
                  <m:mi>s</m:mi>
                  <m:mo
                    class="MathClass-bin">+</m:mo>
                  <m:mfrac>
                    <m:mrow>
                      <m:mn>2</m:mn>
                    </m:mrow>
                    <m:mrow>
                      <m:mn>1</m:mn>
                      <m:mn>5</m:mn>
                    </m:mrow>
                  </m:mfrac>
                  <m:mi>f</m:mi>
                </m:mtd>
                <m:mtd
                  class="align-even">
                  <m:mo
                    class="MathClass-rel">=</m:mo>
                  <m:mn>3</m:mn>
                  <m:mn>8</m:mn>
                  <m:mn>0</m:mn>
                  <m:mspace
                    width="2em"/>
                </m:mtd>
                <m:mtd
                  columnalign="right"
                  class="align-odd"/>
                <m:mtd
                  class="align-even">
                  <m:mtext> (raisins)</m:mtext>
                  <m:mspace
                    width="2em"/>
                </m:mtd>
                <m:mtd
                  columnalign="right"
                  class="align-label"/>
                <m:mtd
                  class="align-label">
                  <m:mspace
                    width="2em"/>
                </m:mtd>
                <m:mtd
                  columnalign="right"
                  class="align-label"/>
                <m:mtd
                  class="align-label">
                  <m:mspace
                    width="2em"/>
                </m:mtd>
              </m:mtr>
              <m:mtr>
                <m:mtd
                  columnalign="right"
                  class="align-odd">
                  <m:mfrac>
                    <m:mrow>
                      <m:mn>5</m:mn>
                    </m:mrow>
                    <m:mrow>
                      <m:mn>1</m:mn>
                      <m:mn>5</m:mn>
                    </m:mrow>
                  </m:mfrac>
                  <m:mi>b</m:mi>
                  <m:mo
                    class="MathClass-bin">+</m:mo>
                  <m:mfrac>
                    <m:mrow>
                      <m:mn>5</m:mn>
                    </m:mrow>
                    <m:mrow>
                      <m:mn>1</m:mn>
                      <m:mn>5</m:mn>
                    </m:mrow>
                  </m:mfrac>
                  <m:mi>s</m:mi>
                  <m:mo
                    class="MathClass-bin">+</m:mo>
                  <m:mfrac>
                    <m:mrow>
                      <m:mn>5</m:mn>
                    </m:mrow>
                    <m:mrow>
                      <m:mn>1</m:mn>
                      <m:mn>5</m:mn>
                    </m:mrow>
                  </m:mfrac>
                  <m:mi>f</m:mi>
                </m:mtd>
                <m:mtd
                  class="align-even">
                  <m:mo
                    class="MathClass-rel">=</m:mo>
                  <m:mn>5</m:mn>
                  <m:mn>0</m:mn>
                  <m:mn>0</m:mn>
                  <m:mspace
                    width="2em"/>
                </m:mtd>
                <m:mtd
                  columnalign="right"
                  class="align-odd"/>
                <m:mtd
                  class="align-even">
                  <m:mtext> (peanuts)</m:mtext>
                  <m:mspace
                    width="2em"/>
                </m:mtd>
                <m:mtd
                  columnalign="right"
                  class="align-label"/>
                <m:mtd
                  class="align-label">
                  <m:mspace
                    width="2em"/>
                </m:mtd>
                <m:mtd
                  columnalign="right"
                  class="align-label"/>
                <m:mtd
                  class="align-label">
                  <m:mspace
                    width="2em"/>
                </m:mtd>
              </m:mtr>
              <m:mtr>
                <m:mtd
                  columnalign="right"
                  class="align-odd">
                  <m:mfrac>
                    <m:mrow>
                      <m:mn>3</m:mn>
                    </m:mrow>
                    <m:mrow>
                      <m:mn>1</m:mn>
                      <m:mn>5</m:mn>
                    </m:mrow>
                  </m:mfrac>
                  <m:mi>b</m:mi>
                  <m:mo
                    class="MathClass-bin">+</m:mo>
                  <m:mfrac>
                    <m:mrow>
                      <m:mn>4</m:mn>
                    </m:mrow>
                    <m:mrow>
                      <m:mn>1</m:mn>
                      <m:mn>5</m:mn>
                    </m:mrow>
                  </m:mfrac>
                  <m:mi>s</m:mi>
                  <m:mo
                    class="MathClass-bin">+</m:mo>
                  <m:mfrac>
                    <m:mrow>
                      <m:mn>8</m:mn>
                    </m:mrow>
                    <m:mrow>
                      <m:mn>1</m:mn>
                      <m:mn>5</m:mn>
                    </m:mrow>
                  </m:mfrac>
                  <m:mi>f</m:mi>
                </m:mtd>
                <m:mtd
                  class="align-even">
                  <m:mo
                    class="MathClass-rel">=</m:mo>
                  <m:mn>6</m:mn>
                  <m:mn>2</m:mn>
                  <m:mn>0</m:mn>
                  <m:mspace
                    width="2em"/>
                </m:mtd>
                <m:mtd
                  columnalign="right"
                  class="align-odd"/>
                <m:mtd
                  class="align-even">
                  <m:mtext> (chocolate)</m:mtext>
                  <m:mspace
                    width="2em"/>
                </m:mtd>
                <m:mtd
                  columnalign="right"
                  class="align-label"/>
                <m:mtd
                  class="align-label">
                  <m:mspace
                    width="2em"/>
                </m:mtd>
                <m:mtd
                  columnalign="right"
                  class="align-label"/>
                <m:mtd
                  class="align-label">
                  <m:mspace
                    width="2em"/>
                </m:mtd>
              </m:mtr>
            </m:mtable>
          </m:math>
          </mathml></equation-block>
      </figgroup>
    </equation-display>
    <p>Tests of &lt;mathmlref>:</p>
    <fig>
      <title>MathML Ref to document with root math element</title>
      <equation-block><mathml>
        <mathmlref
          href="../mathml-source/mathml-root-mathml.mml"
          />
        </mathml></equation-block>
    </fig>
    <fig>
      <title>MathML Ref to element within a larger document.</title>
      <equation-block><mathml>
        <mathmlref
          href="../mathml-source/mathml-equation-library.xml#mathfrag-02"
          />
        </mathml></equation-block>
    </fig>
  </body>  
</topic>
